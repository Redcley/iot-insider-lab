<div id="breadcrumbs-wrapper">
    <!-- Search for small screen -->
    <div class="container">
        <div class="row">
            <div class="col s10">
                <h5 class="breadcrumbs-title">Campaign Dashboard</h5>
                <ol class="breadcrumbs">
                    <li><a href="index.html">Campaigns</a></li>
                    <li class="active">{{vm.currentCampaign.campaignName}}</li>
                </ol>
            </div>
            <div class="col s2">
                <div class="valign-wrapper">
                    <span>Enable Live Stream</span>
                    <div class="switch valign">
                        <label>                           
                            <input type="checkbox" ng-model="vm.enableLiveStream">
                            {{vm.enableLiveStream}}
                            <span class="lever"></span>                            
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--start container-->
<div class="container">
    <!--card stats start-->
    <div id="card-stats">
        <div class="row">
            <div class="col s12 m6 l3">
                <div class="card">
                    <div class="card-content pink lighten-1 white-text">
                        <p class="card-stats-title"><i class="mdi-editor-insert-drive-file"></i> New Impressions</p>
                        <h4 class="card-stats-number">{{vm.impressions.length || 0}}</h4>
                        <p class="card-stats-compare">
                            <!--<i class="mdi-hardware-keyboard-arrow-down"></i> 3%--> <span class="deep-purple-text text-lighten-5">from {{vm.currentAfterDate.fromNow()}}</span>
                        </p>
                    </div>
                    <div class="card-action  pink darken-2">
                        <div id="invoice-line" class="center-align"><canvas width="258" height="25" style="display: inline-block; width: 258px; height: 25px; vertical-align: top;"></canvas></div>
                    </div>
                </div>
            </div>
            <div class="col s12 m6 l3">
                <div class="card">
                    <div class="card-content green white-text">
                        <p class="card-stats-title"><i class="mdi-social-group-add"></i> Sample</p>
                        <h4 class="card-stats-number">500</h4>
                        <p class="card-stats-compare">
                            <!--<i class="mdi-hardware-keyboard-arrow-up"></i> 15%--> <span class="green-text text-lighten-5">from yesterday</span>
                        </p>
                    </div>
                    <div class="card-action  green darken-2">
                        <div id="clients-bar" class="center-align"><canvas width="227" height="25" style="display: inline-block; width: 227px; height: 25px; vertical-align: top;"></canvas></div>
                    </div>
                </div>
            </div>
            <div class="col s12 m6 l3">
                <div class="card">
                    <div class="card-content blue-grey white-text">
                        <p class="card-stats-title"><i class="mdi-action-trending-up"></i> Today Profit</p>
                        <h4 class="card-stats-number">$806.52</h4>
                        <p class="card-stats-compare">
                            <i class="mdi-hardware-keyboard-arrow-up"></i> 80% <span class="blue-grey-text text-lighten-5">from yesterday</span>
                        </p>
                    </div>
                    <div class="card-action blue-grey darken-2">
                        <div id="profit-tristate" class="center-align"><canvas width="227" height="25" style="display: inline-block; width: 227px; height: 25px; vertical-align: top;"></canvas></div>
                    </div>
                </div>
            </div>
            <div class="col s12 m6 l3">
                <div class="card">
                    <div class="card-content purple white-text">
                        <p class="card-stats-title"><i class="mdi-editor-attach-money"></i>Total Sales</p>
                        <h4 class="card-stats-number">$8990.63</h4>
                        <p class="card-stats-compare">
                            <i class="mdi-hardware-keyboard-arrow-up"></i> 70% <span class="purple-text text-lighten-5">last month</span>
                        </p>
                    </div>
                    <div class="card-action purple darken-2">
                        <div id="sales-compositebar" class="center-align"><canvas width="214" height="25" style="display: inline-block; width: 214px; height: 25px; vertical-align: top;"></canvas></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--card stats end-->

    <div id="impression-collection-wrapper">
        <div class="row">
            <div class="card z-depth-0 no-margin no-padding">
                <div class="card-content">
                    <div class="card-title">
                        <span class="card-title">Live Impression Stream ({{vm.impressions.length || 0}})</span>
                    </div>
                    <ul id="impression-collection" class="collection scrollable">
                        <li class="collection-item" ng-repeat="imp in vm.impressions" ng-init="vm.loadAddInfo(imp)">
                            <div class="row">
                                <div class="col s6">
                                    <div class="collections-title">{{imp.ad.adName}}</div>
                                    <div class="collections-content">
                                        <div class="row">
                                            <div class="col s12 share-icons">
                                                <i class="material-icons tiny blue-text">face</i> {{imp.faces.length | number: 2}}
                                                <i class="material-icons tiny green-text">sentiment_very_satisfied</i> {{imp.avgHappiness | number: 2}}
                                                <i class="material-icons tiny orange-text">sentiment_satisfied</i> {{imp.avgContempt | number: 2 }}
                                                <i class="material-icons tiny yellow-text">sentiment_dissatisfied</i> {{imp.avgDisgust | number: 2}}
                                                <i class="material-icons tiny red-text">face</i> {{imp.avgAnger | number: 2}}
                                                <i class="material-icons tiny brown-text">face</i> {{imp.avgFear | number: 2}}
                                                <i class="material-icons tiny gray-text">sentiment_neutral</i> {{imp.avgNeutral | number: 2}}
                                                <i class="material-icons tiny lime-text">sentiment_dissatisfied</i> {{imp.avgSadness | number: 2}}
                                                <i class="material-icons tiny purple-text">sentiment_satisfied</i> {{imp.avgSurprise | number: 2}}
                                            </div>                                            
                                        </div>                                       
                                    </div>
                                </div>
                                <div class="col s3">
                                    <span class="task-cat cyan">{{vm.moment.utc(imp.deviceTimestamp).fromNow()}}</span>
                                </div>
                                <div class="col s3">
                                    <!--<div id="project-line-1"><canvas width="120" height="30" style="display: inline-block; width: 120px; height: 30px; vertical-align: top;"></canvas></div>-->
                                    <div><small>Campaign: {{imp.campaignId}}</small></div>
                                    <div><small>Device: {{imp.deviceId}}</small></div>                                    
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div id="work-collections">
        <div class="row">
            <div class="col s12 m12 l6">
                <div class="card z-depth-0 no-margin no-padding">
                    <div class="card-content">
                        <ul id="issues-collection" class="collection scrollable">
                            <li class="collection-item avatar">
                                <i class="mdi-action-bug-report circle red darken-2"></i>
                                <span class="collection-header">Campaigns</span>
                                <p>All</p>
                                <a href="#" class="secondary-content"><i class="mdi-action-grade"></i></a>
                            </li>
                            <li class="collection-item" ng-repeat="c in vm.campaigns">
                                <div class="row">
                                    <div class="col s7" ng-init="vm.getCampaignDetails(c)">
                                        <p class="collections-title"><strong>{{c.campaignName}}</strong> </p>
                                        <p class="collections-content">{{c.campaignId}}</p>
                                    </div>
                                    <div class="col s2">
                                        <span class="task-cat pink accent-2">{{c.ads.length}}</span>
                                    </div>
                                    <div class="col s3">
                                        <div class="progress">
                                            <div class="determinate" style="width: 70%"></div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="card-reveal">
                        <span class="card-title grey-text text-darken-4">Card Title<i class="material-icons right">close</i></span>
                        <p>Here is some more information about this product that is only revealed once clicked on.</p>
                    </div>
                </div>
            </div>
            <div class="col s12 m12 l6">
                <ul id="projects-collection" class="collection scrollable">
                    <li class="collection-item avatar">
                        <i class="mdi-file-folder circle light-blue darken-2"></i>
                        <span class="collection-header">Ads</span>
                        <p>Campaign's Ad</p>
                        <a href="#" class="secondary-content"><i class="mdi-action-grade"></i></a>
                    </li>
                    <li class="collection-item" ng-repeat="a in vm.currentCampaign.ads">
                        <div class="row" ng-init="vm.getAdDetails(a)">
                            <div class="col s6">
                                <p class="collections-title">{{a.adName}}</p>
                                <p class="collections-content">{{a.url}}</p>
                            </div>
                            <div class="col s3">
                                <span class="task-cat cyan">{{a.adId}}</span>
                            </div>
                            <div class="col s3">
                                <div id="project-line-1"><canvas width="120" height="30" style="display: inline-block; width: 120px; height: 30px; vertical-align: top;"></canvas></div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>


</div>